<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Utilisateurs en ligne</title>
  <!-- Inclusion de Bootstrap CSS -->
  <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
  <link rel="apple-touch-icon" sizes="76x76" href="../img/logo1.png">
  <link rel="icon" type="image/png" href="../img/logo1.png">
  <!-- Inclusion de Font Awesome pour les icônes -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
  <style>
    body {
      background-color: #f8f9fa;
      padding-top: 80px; /* Pour éviter que la navbar ne chevauche le contenu */
    }
    h2 {
      color: #343a40;
      margin-bottom: 20px;
      font-weight: bold;
    }
    .table {
      background-color: #fff;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }
    .table thead th {
      background-color: #343a40;
      color: #fff;
      border: none;
    }
    .table tbody tr:hover {
      background-color: #f1f1f1;
    }
    .status-online {
      color: #28a745;
      font-weight: bold;
    }
    .status-offline {
      color: #dc3545;
      font-weight: bold;
    }
    .navbar {
      background-color: #fff;
      box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    }
    .navbar-brand {
      font-weight: bold;
      color: #343a40 !important;
    }
    .nav-link {
      color: #343a40 !important;
    }
    .nav-link:hover {
      color: #007bff !important;
    }
  </style>
</head>

<body>
<!-- Navbar -->
<nav class="navbar navbar-expand-lg navbar-light bg-light fixed-top">
  <div class="container-fluid">
    <a class="navbar-brand font-weight-bolder" href="../pages/dashboard.html">
      Gestion Master BUZ
    </a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav mx-auto">
        <li class="nav-item">
          <a class="nav-link active" aria-current="page" href="memoires/liste">
            <i class="fa fa-chart-pie opacity-6 text-dark me-1"></i>
            Tableau de bord
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="user/profile">
            <i class="fa fa-user opacity-6 text-dark me-1"></i>
            Profile
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="listeResponsables">
            <i class="fas fa-user-circle opacity-6 text-dark me-1"></i>
            Liste des Utilisateurs
          </a>
        </li>
        <li class="nav-item">
          <a class="nav-link" href="online">
            <i class="fas fa-key opacity-6 text-dark me-1"></i>
            Utilisateurs en Ligne
          </a>
        </li>
      </ul>
    </div>
  </div>
</nav>
<!-- End Navbar -->

<!-- Contenu principal -->
<div class="container">
  <h2 class="text-center mt-5">
    <i class="fas fa-users"></i> Liste des utilisateurs en ligne
  </h2>
  <div class="table-responsive">
    <table class="table table-hover">
      <thead class="thead-dark">
      <tr>
        <th scope="col">Nom</th>
        <th scope="col">Prénom</th>
        <th scope="col">Email</th>
        <th scope="col">Statut</th>
      </tr>
      </thead>
      <tbody>
      <tr th:each="utilisateur : ${utilisateursEnLigne}">
        <td th:text="${utilisateur.nom}"></td>
        <td th:text="${utilisateur.prenom}"></td>
        <td th:text="${utilisateur.username}"></td>
        <td>
              <span class="status-online">
                <i class="fas fa-circle"></i> En ligne
              </span>
        </td>
      </tr>
      <tr th:if="${utilisateursEnLigne.isEmpty()}">
        <td colspan="4" class="text-center">
              <span class="status-offline">
                <i class="fas fa-circle"></i> Aucun utilisateur en ligne
              </span>
        </td>
      </tr>
      </tbody>
    </table>
  </div>
</div>

<!-- Inclusion des scripts JavaScript -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>
</html>